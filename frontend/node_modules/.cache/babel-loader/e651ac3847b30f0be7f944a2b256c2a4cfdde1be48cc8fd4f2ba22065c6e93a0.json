{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mubarak\\\\Downloads\\\\forget-password-otp-project\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [otp, setOtp] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [stage, setStage] = useState('email'); // email ‚Üí otp ‚Üí success\n  const [timeLeft, setTimeLeft] = useState(60);\n\n  // Success Sound Function\n  const playSuccessSound = () => {\n    const audio = new Audio('/success.mp3');\n    audio.play();\n  };\n\n  // Timer for OTP expiry\n  useEffect(() => {\n    if (stage === 'otp' && timeLeft > 0) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else if (timeLeft === 0) {\n      alert('‚ùå OTP expired. Please request again.');\n      setStage('email');\n      setTimeLeft(60);\n    }\n  }, [stage, timeLeft]);\n\n  // Handle Send OTP\n  const handleSendOtp = () => {\n    axios.post('http://localhost:5000/send-otp', {\n      email\n    }).then(res => {\n      alert(res.data.message);\n      setStage('otp');\n      setTimeLeft(60); // Restart timer\n    });\n  };\n\n  // Handle Verify OTP\n  const handleVerifyOtp = () => {\n    axios.post('http://localhost:5000/verify-otp', {\n      email,\n      otp,\n      newPassword\n    }).then(res => {\n      if (res.data.success) {\n        playSuccessSound();\n        setStage('success');\n      } else {\n        alert(res.data.message);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '400px',\n      margin: 'auto',\n      padding: '30px',\n      fontFamily: 'Arial'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDD10 Forget Password with OTP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), stage === 'email' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Enter your email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          margin: '10px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSendOtp,\n        style: {\n          width: '100%',\n          padding: '10px'\n        },\n        children: \"Send OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), stage === 'otp' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: [\"\\u23F3 OTP expires in: \", timeLeft, \"s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter OTP\",\n        value: otp,\n        onChange: e => setOtp(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          margin: '10px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Enter new password\",\n        value: newPassword,\n        onChange: e => setNewPassword(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          margin: '10px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleVerifyOtp,\n        style: {\n          width: '100%',\n          padding: '10px'\n        },\n        children: \"Verify OTP & Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), stage === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'green'\n        },\n        children: \"\\u2705 Password Changed Successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You can now log in with your new password.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rs2G/x299W8lhIjCTt311Mitvd0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","email","setEmail","otp","setOtp","newPassword","setNewPassword","stage","setStage","timeLeft","setTimeLeft","playSuccessSound","audio","Audio","play","timer","setTimeout","clearTimeout","alert","handleSendOtp","post","then","res","data","message","handleVerifyOtp","success","style","maxWidth","margin","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","width","onClick","color","textAlign","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Mubarak/Downloads/forget-password-otp-project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [email, setEmail] = useState('');\n  const [otp, setOtp] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [stage, setStage] = useState('email'); // email ‚Üí otp ‚Üí success\n  const [timeLeft, setTimeLeft] = useState(60);\n\n  // Success Sound Function\n  const playSuccessSound = () => {\n    const audio = new Audio('/success.mp3');\n    audio.play();\n  };\n\n  // Timer for OTP expiry\n  useEffect(() => {\n    if (stage === 'otp' && timeLeft > 0) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else if (timeLeft === 0) {\n      alert('‚ùå OTP expired. Please request again.');\n      setStage('email');\n      setTimeLeft(60);\n    }\n  }, [stage, timeLeft]);\n\n  // Handle Send OTP\n  const handleSendOtp = () => {\n    axios.post('http://localhost:5000/send-otp', { email }).then((res) => {\n      alert(res.data.message);\n      setStage('otp');\n      setTimeLeft(60); // Restart timer\n    });\n  };\n\n  // Handle Verify OTP\n  const handleVerifyOtp = () => {\n    axios\n      .post('http://localhost:5000/verify-otp', { email, otp, newPassword })\n      .then((res) => {\n        if (res.data.success) {\n          playSuccessSound();\n          setStage('success');\n        } else {\n          alert(res.data.message);\n        }\n      });\n  };\n\n  return (\n    <div style={{ maxWidth: '400px', margin: 'auto', padding: '30px', fontFamily: 'Arial' }}>\n      <h2>üîê Forget Password with OTP</h2>\n\n      {stage === 'email' && (\n        <>\n          <input\n            type=\"email\"\n            placeholder=\"Enter your email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            style={{ width: '100%', padding: '10px', margin: '10px 0' }}\n          />\n          <button onClick={handleSendOtp} style={{ width: '100%', padding: '10px' }}>\n            Send OTP\n          </button>\n        </>\n      )}\n\n      {stage === 'otp' && (\n        <>\n          <p style={{ color: 'red' }}>‚è≥ OTP expires in: {timeLeft}s</p>\n          <input\n            type=\"text\"\n            placeholder=\"Enter OTP\"\n            value={otp}\n            onChange={(e) => setOtp(e.target.value)}\n            style={{ width: '100%', padding: '10px', margin: '10px 0' }}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Enter new password\"\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n            style={{ width: '100%', padding: '10px', margin: '10px 0' }}\n          />\n          <button onClick={handleVerifyOtp} style={{ width: '100%', padding: '10px' }}>\n            Verify OTP & Change Password\n          </button>\n        </>\n      )}\n\n      {stage === 'success' && (\n        <div style={{ textAlign: 'center', marginTop: '20px' }}>\n          <h3 style={{ color: 'green' }}>‚úÖ Password Changed Successfully!</h3>\n          <p>You can now log in with your new password.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}